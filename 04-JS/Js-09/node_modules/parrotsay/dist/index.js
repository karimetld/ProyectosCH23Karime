#!/usr/bin/env node
'use strict';

var _getStdin = require('get-stdin');

var _getStdin2 = _interopRequireDefault(_getStdin);

var _minimist = require('minimist');

var _minimist2 = _interopRequireDefault(_minimist);

var _parrotsayApi = require('parrotsay-api');

var _parrotsayApi2 = _interopRequireDefault(_parrotsayApi);

var _updateNotifier = require('update-notifier');

var _updateNotifier2 = _interopRequireDefault(_updateNotifier);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const pkg = require('../package.json');

(0, _updateNotifier2.default)({ pkg }).notify();

const input = (0, _minimist2.default)(process.argv.slice(2))._.join(' ');

if (input) {
	(0, _parrotsayApi2.default)(input).then(console.log).catch(console.error);
} else {
	(0, _getStdin2.default)().then(string => {
		(0, _parrotsayApi2.default)(string.trim() || 'LET\'S PARTY').then(console.log).catch(console.error);
	});
}